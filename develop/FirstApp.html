<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>Feel++: First Feel++ Application</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="feel.css"   rel="stylesheet" type="text/css" />
<link href="feel.css" rel="stylesheet" type="text/css">
<!--  -->
<script type="text/javascript" src="eigen_navtree_hacks.js"></script>
<!-- <script type="text/javascript"> -->
<!-- </script> -->
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- <a name="top"></a> -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
    <div id="projectname"><a href="http://www.feelpp.org/"><img alt="Logo" src="feel_logo_small.png"/></a>
   </div>
   <div id="projectbrief">Finite Element Embedded Library and Language in C++</div>
  </td>
  <td width="500px" align="center" valign="bottom">
    <a href="http://www.feelpp.org/"><img alt="Feel++" src="home.png"/></a>
    <a href="https://github.com/feelpp/feelpp"><img alt="Feel++ on Github" src="http://sciactive.github.io/pnotify/includes/github-icon.png"/></a>
    <a href="https://plus.google.com/communities/104696212880173187475"><img alt="Feel++ community" src="google.png"/></a>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('FirstApp.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">First Feel++ <a class="el" href="classFeel_1_1Application.html" title="provides information about the Application ">Application</a> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#Minimal">Minimal Example</a></li>
<li class="level1"><a href="#Compilation">Compilation, execution, logs</a></li>
<li class="level1"><a href="#Config">Config files</a></li>
<li class="level1"><a href="#Initializing">Initializing PETSc and Trilinos</a></li>
</ul>
</div>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Christophe Prud'homme</dd></dl>
<hr/>
<p>See section <a class="el" href="CrashCourse.html">Building Feel++</a> for more information about <a href="http://www.feelpp.org">Feel++</a> installation.</p>
<h1><a class="anchor" id="Minimal"></a>
Minimal Example</h1>
<p>Let's begin with our first program using the <a href="http://www.feelpp.org">Feel++</a> framework (source : "doc/manual/tutorial/myapp.cpp"). Before all, you have to include the <a href="http://www.feelpp.org">Feel++</a> headers. </p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;feel/feel.hpp&gt;</span></div>
<div class="line"><span class="keyword">using namespace </span>Feel;</div>
</div><!-- fragment --><p>We use the C++ <code>namespace</code> to avoid <code><a class="el" href="namespaceFeel.html" title="[marker1] ">Feel</a>::</code> prefix before <a href="http://www.feelpp.org">Feel++</a> objects. </p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> main( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[] )</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// create custom command option</span></div>
<div class="line">  po::options_description app_options( <span class="stringliteral">&quot;MyApp options&quot;</span> );</div>
<div class="line">  app_options.add( feel_options() );</div>
<div class="line">  app_options.add_options()</div>
<div class="line">    ( <span class="stringliteral">&quot;value&quot;</span>,</div>
<div class="line">      po::value&lt;double&gt;() -&gt; default_value(4.2),</div>
<div class="line">      <span class="stringliteral">&quot;a ’double’ with default value&quot;</span> )</div>
<div class="line">  ;</div>
<div class="line">                                 </div>
<div class="line">  <span class="comment">// initialize feel++ environment</span></div>
<div class="line">  Environment env( _argc=argc, _argv=argv,</div>
<div class="line">                   _desc=app_options,</div>
<div class="line">                   _about=about( _name=<span class="stringliteral">&quot;myapp&quot;</span>,</div>
<div class="line">                                 _author=<span class="stringliteral">&quot;Feel++ Consortium&quot;</span>,</div>
<div class="line">                                 _email=<span class="stringliteral">&quot;feelpp-devel@feelpp.org&quot;</span>) );</div>
<div class="line">                                 </div>
<div class="line">  <span class="comment">// create a log and write inside</span></div>
<div class="line">  LOG(INFO) &lt;&lt; <span class="stringliteral">&quot;value = &quot;</span> &lt;&lt; option(_name=<span class="stringliteral">&quot;value&quot;</span>).as&lt;<span class="keywordtype">double</span>&gt;()</div>
<div class="line">            &lt;&lt; std::endl;</div>
<div class="line">  LOG(INFO) &lt;&lt; <span class="stringliteral">&quot;proc &quot;</span> &lt;&lt; Environment::worldComm().globalRank()</div>
<div class="line">            &lt;&lt;<span class="stringliteral">&quot; of &quot;</span>&lt;&lt; Environment::numberOfProcessors()</div>
<div class="line">            &lt;&lt; std::endl;</div>
<div class="line">} </div>
</div><!-- fragment --><ul>
<li>We pass command line options using the <a href="http://www.boost.org/doc/libs/1_53_0/doc/html/program_options.html">Boost Program Options</a>, library using the prefix <code>po::</code> which is a <a href="http://www.feelpp.org">Feel++</a> alias for the Boost::program_options namespace. To add a new <a href="http://www.feelpp.org">Feel++</a> option, we must create a new <a href="http://www.feelpp.org">Feel++</a> <code>options_description</code>. You must add the default <a href="http://www.feelpp.org">Feel++</a> options and the new one that we choose here as a double value. Note that the default value will be assigned if not specified by the user.</li>
</ul>
<ul>
<li>Then we initialize the environment variables through the <a href="http://www.feelpp.org">Feel++</a> <code>Environment</code> class.</li>
</ul>
<ul>
<li>We instantiate a new application. We specify the directory where to execute the program. That could be usefull for archiving your results.</li>
</ul>
<ul>
<li>Finally, we save the results in a log file using the <a href="http://code.google.com/p/google-glog/">google-glog library</a>. As you can see, we save in this example our custom option value and the current processor number.</li>
</ul>
<p><a href="#" class="top">top</a> </p>
<hr/>
 <h1><a class="anchor" id="Compilation"></a>
Compilation, execution, logs</h1>
<p>To compile a tutorial, just use the GNU make command. </p>
<pre class="fragment">  make feelpp_doc_&lt;appname&gt;
</pre><p>where <code>&lt;appname&gt;</code> is the name of the application you wish to compile (here, <code>myapp</code>). Go to the execution directory as specified in the program, and execute it. You can change your option value. </p>
<pre class="fragment">  ./feelpp_doc_myapp [--value 6.6]
</pre><p>You can list the log files created. </p>
<pre class="fragment">  ls /tmp/&lt;your login&gt;/feelpp_doc_myapp/
</pre><p>If you open one of these log, you should be able to see your value and the processor number used to compute. You can run your application on several processors using MPI. </p>
<pre class="fragment">  mpirun -np 2 feelpp_doc_myapp
</pre><p>Note that there will be one log for each processor in that case.</p>
<p><a href="#" class="top">top</a> </p>
<hr/>
 <h1><a class="anchor" id="Config"></a>
Config files</h1>
<p>A config file can be parsed to the program to profile your options. The default config paths are, </p>
<ul>
<li>current dir </li>
<li><code>$HOME/feel/config/</code> </li>
<li><code>$INSTALL_PREFIX/share/feel/config/</code></li>
</ul>
<p>then you have to write inside one of these folders a file called <code>&lt;app_name&gt;.cfg</code> or <code>feelpp_&lt;app_name&gt;.cfg</code>. For example, our <code>myapp.cfg</code> would looks like, </p>
<pre class="fragment">value=0.53
</pre><p>Note that you can specify the config file through the option <code>&ndash;config-file=&lt;path&gt;</code></p>
<p><a href="#" class="top">top</a> </p>
<hr/>
 <h1><a class="anchor" id="Initializing"></a>
Initializing PETSc and Trilinos</h1>
<p>PETSc is a suite of data structures and routines for the scalable (parallel) solution of scientific applications modeled by partial differential equations. It employs the MPI standard for parallelism.</p>
<p><a href="http://www.feelpp.org">Feel++</a> supports the PETSc framework, the <code>Environment</code> takes care of initializing the associated PETSc environment.</p>
<p><a href="#" class="top">top</a> </p>
<hr/>
 </div></div><!-- contents -->
</div><!-- doc-content -->
<hr size="1"><address style="text-align: right;"><small>
Generated on Mon Nov 11 2013 00:01:56 for Feel++ by&nbsp;<a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.8.4</small></address>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-40726726-1', 'github.io');
  ga('send', 'pageview');
</script>
</body>
</html>
